(this["webpackJsonprepetica-frontend"]=this["webpackJsonprepetica-frontend"]||[]).push([[0],{63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},67:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),o=n(18),i=n.n(o),a=n(13),s=n(2),u=n(5),d=n(15),l=n(32),j=n(33),p=n(3),h=n.n(p),b=n(4),v=n(11),f=n.n(v),O=null,x=function(){var e=Object(b.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:O}},e.next=3,f.a.get("/api/cards",t);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:O}},e.next=3,f.a.post("/api/cards",t,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m={setToken:function(e){O="bearer ".concat(e)},getAll:x,create:g},k=function(){return function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.getAll();case 3:n=e.sent,t({type:"INITIALIZATION",data:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(b.a)(h.a.mark((function t(n){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.create(e);case 3:r=t.sent,n({type:"CREATE_CARD",data:r}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZATION":return t.data;case"CREATE_CARD":return e.concat(t.data);case"CLEAR_CARD":return[];default:return e}},L=function(e){return{type:"EMAIL_TAKEN",data:e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"EMAIL_TAKEN"===t.type?t.data:e},E=function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("/api/users",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("/api/login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M={register:E,login:S},T=function(e){return function(){var t=Object(b.a)(h.a.mark((function t(n){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,M.login(e);case 3:r=t.sent,m.setToken(r.token),window.localStorage.setItem("currentUser",JSON.stringify(r)),n({type:"SET_USER",data:r}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),t.t0.response.data.error.includes("invalid email or pssword")&&(n(L("Incorrect Credentials")),setTimeout((function(){return n(L(""))}),4e3)),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":case"REGISTER_USER":return t.data;case"CLEAR_USER":return window.localStorage.clear(),null;case"SET_FROM_LOCAL":return m.setToken(t.data.token),t.data;default:return e}},I=Object(d.combineReducers)({user:A,card:C,error:y}),R=Object(d.createStore)(I,Object(l.composeWithDevTools)(Object(d.applyMiddleware)(j.a))),N=(n(63),n(9)),D=(n(64),function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat("https://api.dictionaryapi.dev/api/v2/entries/en/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),H={getDefinition:D},V=(n(65),n(0)),W=function(){var e=Object(u.c)((function(e){return e.card})),t=e.filter((function(e){return new Date(e.checkpointDate).getTime()<=(new Date).getTime()})),n=Object(r.useState)(0),c=Object(N.a)(n,2),o=c[0],i=c[1],a=function(){var t=Object(b.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o===e.length-1?console.log("outta bound"):i(o+1);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s=function(){document.getElementById("audio").play()};return Object(V.jsxs)("div",{id:"card",children:[Object(V.jsxs)("div",{id:"card-header",children:["Level ".concat(t[o].level),function(){var e=JSON.parse(t[o].back).phonetics[0];if(void 0!==e&&"audio"in e)return Object(V.jsxs)("div",{children:[Object(V.jsx)("svg",{onClick:s,width:"24",height:"24",fill:"grey",viewBox:"0 0 24 24",children:Object(V.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M18.25 12L5.75 5.75V18.25L18.25 12Z"})}),Object(V.jsx)("audio",{id:"audio",src:e.audio})]})}()]}),Object(V.jsx)("div",{id:"front",children:t[o].front}),Object(V.jsx)("div",{id:"back",children:JSON.parse(t[o].back).meanings.map((function(e){return Object(V.jsx)("div",{id:"card-definition",children:e.definitions[0].definition})}))}),Object(V.jsx)("button",{type:"button",onClick:a,children:"Next Card"})]})},U=(n(67),function(){var e=Object(s.g)(),t=Object(u.b)(),n=function(e){var t=document.getElementById(e);t.style.color="purple",t.style.borderRight="solid 3px purple";var n=document.getElementById("toast");switch(n.style.visibility="visible",n.style.left="70px",e){case"home-nav":return n.style.top="20px",n.textContent="Home",null;case"trend-nav":return n.style.top="100px",n.textContent="Trends",null;case"deck-nav":return n.style.top="180px",n.textContent="Decks",null;case"profile-nav":return n.style.top="260px",n.textContent="Profile",null;case"logout":return n.style.top="720px",n.textContent="Logout",null;default:return null}},r=function(e){var t=document.getElementById(e);t.style.color="",t.style.borderRight="",document.getElementById("toast").style.visibility="hidden"};return Object(V.jsxs)("div",{id:"navBar",children:[Object(V.jsx)("div",{id:"toast"}),Object(V.jsxs)("div",{id:"navMain",children:[Object(V.jsx)("div",{id:"home-nav",onMouseEnter:function(){return n("home-nav")},onMouseLeave:function(){return r("home-nav")},children:Object(V.jsxs)("svg",{width:"28",height:"32",fill:"none",viewBox:"0 0 24 24",children:[Object(V.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M6.75024 19.2502H17.2502C18.3548 19.2502 19.2502 18.3548 19.2502 17.2502V9.75025L12.0002 4.75024L4.75024 9.75025V17.2502C4.75024 18.3548 5.64568 19.2502 6.75024 19.2502Z"}),Object(V.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M9.74963 15.7493C9.74963 14.6447 10.6451 13.7493 11.7496 13.7493H12.2496C13.3542 13.7493 14.2496 14.6447 14.2496 15.7493V19.2493H9.74963V15.7493Z"})]})}),Object(V.jsx)("div",{id:"trend-nav",onMouseEnter:function(){return n("trend-nav")},onMouseLeave:function(){return r("trend-nav")},children:Object(V.jsxs)("svg",{width:"28",height:"32",fill:"none",viewBox:"0 0 24 24",children:[Object(V.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M4.75 11.25L10.25 5.75"}),Object(V.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M5.75 19.2502H6.25C6.80229 19.2502 7.25 18.8025 7.25 18.2502V15.75C7.25 15.1977 6.80229 14.75 6.25 14.75H5.75C5.19772 14.75 4.75 15.1977 4.75 15.75V18.2502C4.75 18.8025 5.19772 19.2502 5.75 19.2502Z"}),Object(V.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M11.75 19.2502H12.25C12.8023 19.2502 13.25 18.8025 13.25 18.2502V12.75C13.25 12.1977 12.8023 11.75 12.25 11.75H11.75C11.1977 11.75 10.75 12.1977 10.75 12.75V18.2502C10.75 18.8025 11.1977 19.2502 11.75 19.2502Z"}),Object(V.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M17.75 19.2502H18.25C18.8023 19.2502 19.25 18.8025 19.25 18.2502V5.75C19.25 5.19772 18.8023 4.75 18.25 4.75H17.75C17.1977 4.75 16.75 5.19772 16.75 5.75V18.2502C16.75 18.8025 17.1977 19.2502 17.75 19.2502Z"}),Object(V.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M11.25 8.25V4.75H7.75"})]})}),Object(V.jsx)("div",{id:"deck-nav",onMouseEnter:function(){return n("deck-nav")},onMouseLeave:function(){return r("deck-nav")},children:Object(V.jsxs)("svg",{width:"28",height:"32",fill:"none",viewBox:"0 0 24 24",children:[Object(V.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M19.25 5.75C19.25 5.19772 18.8023 4.75 18.25 4.75H14C12.8954 4.75 12 5.64543 12 6.75V19.25L12.8284 18.4216C13.5786 17.6714 14.596 17.25 15.6569 17.25H18.25C18.8023 17.25 19.25 16.8023 19.25 16.25V5.75Z"}),Object(V.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M4.75 5.75C4.75 5.19772 5.19772 4.75 5.75 4.75H10C11.1046 4.75 12 5.64543 12 6.75V19.25L11.1716 18.4216C10.4214 17.6714 9.40401 17.25 8.34315 17.25H5.75C5.19772 17.25 4.75 16.8023 4.75 16.25V5.75Z"})]})}),Object(V.jsx)("div",{id:"profile-nav",onMouseEnter:function(){return n("profile-nav")},onMouseLeave:function(){return r("profile-nav")},children:Object(V.jsxs)("svg",{width:"28",height:"32",fill:"none",viewBox:"0 0 24 24",children:[Object(V.jsx)("circle",{cx:"12",cy:"8",r:"3.25",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),Object(V.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M6.8475 19.25H17.1525C18.2944 19.25 19.174 18.2681 18.6408 17.2584C17.8563 15.7731 16.068 14 12 14C7.93201 14 6.14367 15.7731 5.35924 17.2584C4.82597 18.2681 5.70558 19.25 6.8475 19.25Z"})]})})]}),Object(V.jsx)("div",{id:"logout",onMouseEnter:function(){return n("logout")},onMouseLeave:function(){return r("logout")},children:Object(V.jsxs)("svg",{onClick:function(){e.push("/login"),window.localStorage.removeItem("currentUser"),t({type:"CLEAR_CARD"}),t({type:"CLEAR_USER"})},width:"28",height:"28",fill:"none",viewBox:"0 0 24 24",children:[Object(V.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M15.75 8.75L19.25 12L15.75 15.25"}),Object(V.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M19 12H10.75"}),Object(V.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M15.25 4.75H6.75C5.64543 4.75 4.75 5.64543 4.75 6.75V17.25C4.75 18.3546 5.64543 19.25 6.75 19.25H15.25"})]})})]})}),_=n.p+"static/media/cardless.7a2014f2.png",F=function(){var e=Object(u.c)((function(e){return e.card})).filter((function(e){return new Date(e.checkpointDate).getTime()<=(new Date).getTime()})),t=Object(r.useState)(""),n=Object(N.a)(t,2),c=n[0],o=n[1],i=Object(u.b)();Object(r.useEffect)((function(){var e=window.localStorage.getItem("currentUser");if(e){var t=JSON.parse(e);i(function(e){return{type:"SET_FROM_LOCAL",data:e}}(t)),i(k())}}),[]);var a=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,H.getDefinition(c);case 4:n=e.sent,r=JSON.stringify(n[0]),i(w({front:c,back:r,level:1})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),alert("Error adding card");case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(V.jsxs)("div",{id:"homePage",children:[0!==e.length?Object(V.jsx)(W,{}):Object(V.jsxs)("div",{children:[Object(V.jsx)("p",{children:"NO CARDS FOUND, DOG ATE YOUR HOMEWORK?"}),Object(V.jsx)("img",{height:"600px",src:_,alt:"idk"})]}),Object(V.jsx)("form",{onSubmit:a,children:Object(V.jsx)("input",{onChange:function(e){var t=e.target;return o(t.value)}})}),Object(V.jsx)(U,{})]})},B=(n(72),n(73),function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.error})),n=Object(s.g)(),c=Object(r.useState)(""),o=Object(N.a)(c,2),i=o[0],d=o[1],l=Object(r.useState)(""),j=Object(N.a)(l,2),p=j[0],h=j[1],b=function(){window.localStorage.getItem("currentUser")&&(setTimeout((function(){return n.push("/home")}),400),setTimeout((function(){return e(k())}),200))};return Object(V.jsxs)("div",{id:"login-container",children:[Object(V.jsxs)("div",{id:"header",children:[Object(V.jsx)("h1",{children:"Login"}),Object(V.jsxs)("p",{children:["Not a member? Signup"," ",Object(V.jsx)(a.b,{to:"/register",children:"here "})]}),Object(V.jsx)("p",{children:"Forgotten password? Recover details here"})]}),Object(V.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(T({email:i,password:p})),setTimeout(b,500),d(""),h("")},children:[Object(V.jsxs)("div",{id:"innerForm",children:[Object(V.jsxs)("div",{children:[Object(V.jsx)("label",{htmlFor:"email",children:"Email Address"}),Object(V.jsx)("input",{className:"login-input",type:"email",onChange:function(e){var t=e.target;return d(t.value)},id:"email",value:i,placeholder:"Email"})]}),Object(V.jsxs)("div",{children:[Object(V.jsx)("label",{htmlFor:"password",children:"Password"}),Object(V.jsx)("input",{className:"login-input",onChange:function(e){var t=e.target;return h(t.value)},id:"password",type:"password",value:p,placeholder:"Password"})]})]}),Object(V.jsx)("button",{id:"login-button",type:"submit",children:"Login"}),Object(V.jsx)("div",{id:"error",children:t})]})]})}),P=function(){return Object(V.jsx)("div",{id:"loginPage",children:Object(V.jsx)(B,{})})},Z=(n(74),n(75),function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.error})),n=Object(s.g)(),c=Object(r.useState)(""),o=Object(N.a)(c,2),i=o[0],d=o[1],l=Object(r.useState)(""),j=Object(N.a)(l,2),p=j[0],v=j[1],f=Object(r.useState)(""),O=Object(N.a)(f,2),x=O[0],g=O[1],m=Object(r.useState)(""),k=Object(N.a)(m,2),w=k[0],C=k[1],y=Object(r.useState)(""),E=Object(N.a)(y,2),S=E[0],A=E[1],I=function(){window.localStorage.getItem("currentUser")&&setTimeout((function(){return n.push("/home")}),400)};return Object(V.jsxs)("div",{id:"signup-container",children:[Object(V.jsxs)("div",{id:"header",children:[Object(V.jsx)("h1",{children:"Create Account"}),Object(V.jsxs)("p",{children:["Already registered? Log in"," ",Object(V.jsx)(a.b,{to:"/login",children:"here "})]})]}),Object(V.jsxs)("form",{onSubmit:function(t){var n;t.preventDefault(),w===S?(e((n={name:i,surname:p,email:x,password:w},function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.register(n);case 3:t(T(n)),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),e.t0.response.data.error.includes("duplicate key error")&&(t(L("Email Taken")),setTimeout((function(){return t(L(""))}),4e3)),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}())),setTimeout(I,500)):(C(""),A(""),e(L("Passwords do not match")),setInterval((function(){return e(L(""))}),4e3))},children:[Object(V.jsxs)("div",{id:"innerForm",children:[Object(V.jsxs)("div",{id:"name-input",children:[Object(V.jsxs)("div",{children:[Object(V.jsx)("label",{htmlFor:"name",children:"First Name"}),Object(V.jsx)("input",{className:"signup-input",required:!0,onChange:function(e){var t=e.target;return d(t.value)},id:"name",value:i,placeholder:"Name"})]}),Object(V.jsxs)("div",{children:[Object(V.jsx)("label",{htmlFor:"surname",children:"Surname"}),Object(V.jsx)("input",{className:"signup-input",required:!0,onChange:function(e){var t=e.target;return v(t.value)},id:"surname",value:p,placeholder:"Surname"})]})]}),Object(V.jsxs)("div",{children:[Object(V.jsx)("label",{htmlFor:"email",children:"Email Address"}),Object(V.jsx)("input",{className:"signup-input",required:!0,type:"email",onChange:function(e){var t=e.target;return g(t.value)},id:"email",value:x,placeholder:"Email"})]}),Object(V.jsxs)("div",{children:[Object(V.jsx)("label",{htmlFor:"password",children:"Password"}),Object(V.jsx)("input",{className:"signup-input",required:!0,minLength:8,onChange:function(e){var t=e.target;return C(t.value)},id:"password",type:"password",value:w,placeholder:"Password"})]}),Object(V.jsxs)("div",{children:[Object(V.jsx)("label",{htmlFor:"confirm-password",children:"Confirm Password"}),Object(V.jsx)("input",{className:"signup-input",required:!0,minLength:8,onChange:function(e){var t=e.target;return A(t.value)},id:"confirm-password",type:"password",value:S,placeholder:"Confirm Password"})]})]}),Object(V.jsx)("button",{id:"signup-button",type:"submit",children:"Sign up"}),Object(V.jsx)("div",{id:"error",children:t})]})]})}),J=function(){return Object(V.jsx)("div",{id:"signupPage",children:Object(V.jsx)(Z,{})})},q=function(){var e=Object(s.g)();return Object(V.jsxs)("div",{children:[Object(V.jsx)("button",{onClick:function(){return e.push("/login")},children:"log"}),Object(V.jsx)("button",{onClick:function(){return e.push("/register")},children:"re"})]})};i.a.render(Object(V.jsx)(c.a.StrictMode,{children:Object(V.jsx)(u.a,{store:R,children:Object(V.jsx)(a.a,{children:Object(V.jsxs)(s.d,{children:[Object(V.jsx)(s.b,{path:"/home",render:function(){return null===window.localStorage.getItem("currentUser")?Object(V.jsx)(s.a,{to:"/"}):Object(V.jsx)(F,{})}}),Object(V.jsx)(s.b,{path:"/login",render:function(){return null===window.localStorage.getItem("currentUser")?Object(V.jsx)(P,{}):Object(V.jsx)(s.a,{to:"/home"})}}),Object(V.jsx)(s.b,{path:"/register",render:function(){return null===window.localStorage.getItem("currentUser")?Object(V.jsx)(J,{}):Object(V.jsx)(s.a,{to:"/home"})}}),Object(V.jsx)(s.b,{path:"/",render:function(){return Object(V.jsx)(q,{})}})]})})})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.8dd620f7.chunk.js.map